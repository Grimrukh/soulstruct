"""
m42_02_00_00

linked:
0
82

strings:
0: N:\\GR\\data\\Param\\event\\common_func.emevd
82: N:\\GR\\data\\Param\\event\\common_macro.emevd
166: 
168: 
170: 
172: 
174: 
"""
# [COMMON_FUNC]
from .common_func import *
from soulstruct.eldenring.events import *
from soulstruct.eldenring.events.instructions import *
from soulstruct.eldenring.game_types import *


@ContinueOnRest(0)
def Constructor():
    """Event 0"""
    RegisterGrace(grace_flag=42020000, asset=42021950)
    CommonFunc_90005250(0, character=42020227, region=42022227, seconds=0.0, animation_id=0)
    CommonFunc_90005250(0, character=42020209, region=42022209, seconds=0.0, animation_id=3001)
    CommonFunc_90005200(
        0,
        character=42020210,
        animation_id=30000,
        animation_id_1=20000,
        region=42022210,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020205,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020215,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=0.30000001192092896,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020229,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=0.5,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020217,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=2.299999952316284,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020230,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=2.5,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020207,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=4.5,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020206,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=7.099999904632568,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020214,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=7.400000095367432,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020216,
        animation_id=30000,
        animation_id_1=20000,
        region=42022214,
        seconds=7.300000190734863,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020218,
        animation_id=30000,
        animation_id_1=20000,
        region=42022218,
        seconds=0.10000000149011612,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020219,
        animation_id=30000,
        animation_id_1=20000,
        region=42022218,
        seconds=0.20000000298023224,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020220,
        animation_id=30000,
        animation_id_1=20000,
        region=42022218,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020221,
        animation_id=30000,
        animation_id_1=20000,
        region=42022218,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020222,
        animation_id=30000,
        animation_id_1=20000,
        region=42022218,
        seconds=0.10000000149011612,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020223,
        animation_id=30000,
        animation_id_1=20000,
        region=42022218,
        seconds=0.20000000298023224,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020224,
        animation_id=30000,
        animation_id_1=20000,
        region=42022218,
        seconds=0.30000001192092896,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020221,
        animation_id=30000,
        animation_id_1=20000,
        region=42022222,
        seconds=0.20000000298023224,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020200,
        animation_id=30001,
        animation_id_1=20001,
        region=42022227,
        seconds=0.10000000149011612,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020200,
        animation_id=30001,
        animation_id_1=20001,
        region=42022200,
        seconds=0.20000000298023224,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020201,
        animation_id=30001,
        animation_id_1=20001,
        region=42022200,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020202,
        animation_id=30001,
        animation_id_1=20001,
        region=42022200,
        seconds=0.10000000149011612,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020200,
        animation_id=30001,
        animation_id_1=20001,
        region=42022203,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020201,
        animation_id=30001,
        animation_id_1=20001,
        region=42022203,
        seconds=0.20000000298023224,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020202,
        animation_id=30001,
        animation_id_1=20001,
        region=42022203,
        seconds=0.10000000149011612,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020200,
        animation_id=30001,
        animation_id_1=20001,
        region=42022206,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020201,
        animation_id=30001,
        animation_id_1=20001,
        region=42022206,
        seconds=0.20000000298023224,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020202,
        animation_id=30001,
        animation_id_1=20001,
        region=42022206,
        seconds=0.10000000149011612,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005250(0, character=42020228, region=42022228, seconds=0.30000001192092896, animation_id=0)
    CommonFunc_90005200(
        0,
        character=42020211,
        animation_id=30001,
        animation_id_1=20001,
        region=42022241,
        seconds=7.5,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020213,
        animation_id=30001,
        animation_id_1=20001,
        region=42022241,
        seconds=5.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005250(0, character=42020212, region=42022241, seconds=0.0, animation_id=0)
    CommonFunc_90005251(0, character=42020225, radius=4.0, seconds=0.0, animation_id=0)
    CommonFunc_90005251(0, character=42020226, radius=0.5, seconds=0.0, animation_id=0)
    CommonFunc_90005200(
        0,
        character=42020208,
        animation_id=30000,
        animation_id_1=20000,
        region=42022208,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    Event_42022300(0, character=42020201, region=42022300)
    Event_42022300(1, character=42020202, region=42022300)
    Event_42022300(2, character=42020203, region=42022300)
    Event_42022300(3, character=42020226, region=42022301)
    Event_42022300(4, character=42020217, region=42022302)
    Event_42022330(0, character=42020201, region=42022300)
    Event_42022330(1, character=42020202, region=42022300)
    Event_42022330(2, character=42020203, region=42022300)
    Event_42022330(3, character=42020226, region=42022301)
    Event_42022330(4, character=42020217, region=42022302)
    CommonFunc_90005250(0, character=42020240, region=42022240, seconds=0.5, animation_id=0)
    CommonFunc_90005200(
        0,
        character=42020241,
        animation_id=30001,
        animation_id_1=20001,
        region=42022241,
        seconds=1.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005200(
        0,
        character=42020242,
        animation_id=30002,
        animation_id_1=20002,
        region=42022242,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005201(
        0,
        character=42020245,
        animation_id=30002,
        animation_id_1=20002,
        radius=1.0,
        seconds=0.0,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005250(0, character=42020243, region=42022243, seconds=0.0, animation_id=0)
    CommonFunc_90005200(
        0,
        character=42020244,
        animation_id=30002,
        animation_id_1=20002,
        region=42022244,
        seconds=0.5,
        left=0,
        left_1=0,
        left_2=0,
        left_3=0,
    )
    CommonFunc_90005251(0, character=42020250, radius=1.0, seconds=0.0, animation_id=0)
    Event_42022580()
    CommonFunc_90005646(
        0,
        flag=42027000,
        left_flag=42022840,
        cancel_flag__right_flag=42022841,
        asset=42021840,
        player_start=42022840,
        area_id=42,
        block_id=2,
        cc_id=0,
        dd_id=0,
    )
    Event_42022600(
        0,
        flag=42020600,
        asset=42021601,
        asset_1=42021600,
        obj_act_id=42023600,
        asset_2=42021605,
        obj_act_id_1=42023605,
    )
    Event_42022600(
        1,
        flag=42020601,
        asset=42021603,
        asset_1=42021602,
        obj_act_id=42023601,
        asset_2=42021604,
        obj_act_id_1=42023604,
    )
    CommonFunc_90005555(0, flag=42027000, item_lot=42020000, asset=42021620)
    CommonFunc_900005610(0, asset=42021680, dummy_id=100, vfx_id=800, right=0)
    Event_42020700(0, character=42020700, animation_id=30013, left=0, flag=42009205)


@ContinueOnRest(42022580)
def Event_42022580():
    """Event 42022580"""
    RegisterLadder(start_climbing_flag=42020580, stop_climbing_flag=42020581, asset=42021580)
    RegisterLadder(start_climbing_flag=42020582, stop_climbing_flag=42020583, asset=42021582)
    RegisterLadder(start_climbing_flag=42020584, stop_climbing_flag=42020585, asset=42021584)


@RestartOnRest(42022600)
def Event_42022600(
    _,
    flag: Flag | int,
    asset: uint,
    asset_1: Asset | int,
    obj_act_id: uint,
    asset_2: Asset | int,
    obj_act_id_1: uint,
):
    """Event 42022600"""
    GotoIfFlagDisabled(Label.L0, flag=flag)
    EndOfAnimation(asset=asset, animation_id=21)

    # --- Label 0 --- #
    DefineLabel(0)
    OR_1.Add(AssetActivated(obj_act_id=obj_act_id))
    OR_1.Add(AssetActivated(obj_act_id=obj_act_id_1))
    
    MAIN.Await(OR_1)
    
    GotoIfFlagEnabled(Label.L1, flag=flag)
    EnableNetworkFlag(flag)
    DisableAssetActivation(asset_1, obj_act_id=449011)
    DisableAssetActivation(asset_2, obj_act_id=449011)
    ForceAnimation(asset, 21, wait_for_completion=True)
    EnableAssetActivation(asset_1, obj_act_id=449011)
    EnableAssetActivation(asset_2, obj_act_id=449011)
    Restart()

    # --- Label 1 --- #
    DefineLabel(1)
    DisableNetworkFlag(flag)
    DisableAssetActivation(asset_1, obj_act_id=449011)
    DisableAssetActivation(asset_2, obj_act_id=449011)
    ForceAnimation(asset, 12, wait_for_completion=True)
    EnableAssetActivation(asset_1, obj_act_id=449011)
    EnableAssetActivation(asset_2, obj_act_id=449011)
    Restart()


@RestartOnRest(42022620)
def Event_42022620():
    """Event 42022620"""
    if PlayerNotInOwnWorld():
        return
    if FlagEnabled(42027000):
        return
    CreateAssetVFX(42021620, dummy_id=100, vfx_id=834010)
    AND_1.Add(PlayerInOwnWorld())
    AND_1.Add(ActionButtonParamActivated(action_button_id=209200, entity=42021620))
    
    MAIN.Await(AND_1)
    
    FaceEntityAndForceAnimation(PLAYER, 42021620, wait_for_completion=True)
    ForceAnimation(PLAYER, 60010)
    Wait(1.0)
    CreateAssetVFX(42021620, dummy_id=100, vfx_id=800380)
    Wait(1.0)
    DeleteAssetVFX(42021620)
    Wait(2.5)
    AwardItemLot(42020000, host_only=True)


@RestartOnRest(42022300)
def Event_42022300(_, character: Character | int, region: Region | int):
    """Event 42022300"""
    MAIN.Await(CharacterInsideRegion(character=character, region=region))
    
    AddSpecialEffect(character, 4080)
    
    MAIN.Await(CharacterOutsideRegion(character=character, region=region))
    
    RemoveSpecialEffect(character, 4080)
    Restart()


@RestartOnRest(42022330)
def Event_42022330(_, character: Character | int, region: Region | int):
    """Event 42022330"""
    MAIN.Await(CharacterInsideRegion(character=character, region=region))
    
    AddSpecialEffect(character, 4085)
    
    MAIN.Await(CharacterOutsideRegion(character=character, region=region))
    
    RemoveSpecialEffect(character, 4085)
    Restart()


@RestartOnRest(42020700)
def Event_42020700(_, character: uint, animation_id: int, left: uint, flag: Flag | int):
    """Event 42020700"""
    GotoIfFlagEnabled(Label.L5, flag=flag)

    # --- Label 0 --- #
    DefineLabel(0)
    EnableCharacter(character)
    EnableBackread(character)
    DisableGravity(character)
    ForceAnimation(character, animation_id)
    if UnsignedEqual(left=left, right=0):
        return
    AND_1.Add(CharacterHasSpecialEffect(character, 9624))
    AwaitConditionTrue(AND_1)
    Move(character, destination=left, destination_type=CoordEntityType.Region, short_move=True)
    DisableGravity(character)
    Goto(Label.L20)

    # --- Label 5 --- #
    DefineLabel(5)
    DisableCharacter(character)
    DisableBackread(character)
    Goto(Label.L20)

    # --- Label 20 --- #
    DefineLabel(20)
    End()
